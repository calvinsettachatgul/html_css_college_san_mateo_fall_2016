HTML5 Web Socket HTML websocket is an API to establish socket connections between a client and a server. An example of Client is our web browser, such as, Chrome, IE or Firefox and an example of server would be Apache or Nginx. The connection between the client and server is persistent. Therefore, data can be sent by both parties at any given time. The web socket connection can be opened by the webSocket constructor. An example would look like the following: var htmlSocket = new webSocket(ourUrl, {protocol}). The parameter, ourUrl specifies the url, the connection needs to be made to and, protocol, the second parameter, must be supported by the server for the connection to be successful. Example of how a "ping" message is send to the server through the htmlSocket object: htmlSocket.onopen = function(){ htmlSocketConnection.send('ping'); } webSocket Attributes: Two of the attributes of the webSocket class are readyState and buffereAmount. With respect to our object, htmlSocket, it can be accessed in the following manner: htmlSocket.readyState and htmlSocket.bufferedAmount. readyState is a read only atrribute. It represents the connection state, such as, a zero value would mean connection has not been established. A value of one would mean connection is established and communication is possible. bufferedAmount, which is also a read only attribute,specifies, bytes of utf-8 that have been queued using the 'send' method. webSocket Events: open, close, message, error are the events of the webSocket class. Given our htmlSocket object, the events can be handled by the dot operator, such as, htmlSocket.onopen, htmlSocket.onclose, htmlSocket.onmessage, htmlSocket.onerror. Lets look at an example for logging errors using the event handler, error. htmlSocket.onerror = function(error){ console.log("html socket error" + error); } OR, htmlSocket.onerror = function(error){ alert("html socket error" + error); } onopen occurs when connection is established. onclose occurs when connection is closed. onmessage occurs when data is received by the client and, onerror occurs if there is an error in communication. webSocket Methods: send and close are the two webSocket methods. Given our htmlSocket object, we could possibly access the send and close method like, htmlSocket.send() and htmlSocket.close(). As the function names are self explanatory, send method is used to transmit data and close to terminate the connection. The webSocket is a bidirectional TCP socket between client and server. webSocket Example with event handlers:
run socket check

Example Explained: In the above example, we are creating a socket object, which is the htmlSocket object to send data. In the first two lines, we check whether the browser is supporting the webSocket object or not. It is achived through the if condition. Then, in the function, we create the webSocket object and send the data using the send function. We will solve a few programs in web sockets in the next week. For now, please study this material and let me know if you have any questions. Please read chapter 10 by Lawson and Sharp, Introducing HTML5.
